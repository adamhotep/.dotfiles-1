#!/bin/sh

# Open a copied link with the following picked programs

case "$(printf "Image\\nPDF\\nBrowser\\nYoutube\\nYoutube Playlist" | dmenu -i -p "Open with?")" in
  Youtube)
    case "$(printf "480\\n720" | dmenu -i -p "What quality?")" in
      480) setsid $PLAYER --ytdl-format=18 "$(xclip -o -selection clipboard)" >/dev/null 2>&1 & ;;
      720) setsid $PLAYER --ytdl-format=22 "$(xclip -o -selection clipboard)" >/dev/null 2>&1 & ;;
    esac ;;
  "Youtube Playlist")
    case "$(printf "480\\n720" | dmenu -i -p "What quality?")" in
      480) setsid $PLAYER --ytdl-raw-options="yes-playlist=" --ytdl-format=18 "$(xclip -o -selection clipboard)" >/dev/null 2>&1 & ;;
      720) setsid $PLAYER --ytdl-raw-options="yes-playlist=" --ytdl-format=22 "$(xclip -o -selection clipboard)" >/dev/null 2>&1 & ;;
    esac ;;
	Browser) setsid "$BROWSER" "$(xclip -o -selection clipboard)" >/dev/null 2>&1 & ;;
  Image) ~/bin/openimage "$(xclip -o -selection clipboard)" >/dev/null 2>&1 & ;;
  PDF) ~/bin/openpdf "$(xclip -o -selection clipboard)" >/dev/null 2>&1 & ;;
esac
